<ng-container *ngIf="payload$ | async as payload">
    
    <div class="file-wrapper" *ngIf="payload.valid; else invalid">
        <div class="file-header">
            <h3>{{ payload.file?.url }}</h3>
            <a [attr.href]="payload.file?.url" target="_blank">
                <fa name="download"></fa>
            </a>
        </div>
        <ng-container [ngSwitch]="payload.file?.type">
            <dig-image-viewer *ngSwitchCase="TYPE.IMAGE_JPEG" [base64image]="payload.file.body"></dig-image-viewer>
            <dig-image-viewer *ngSwitchCase="TYPE.IMAGE_PNG" [base64image]="payload.file.body"></dig-image-viewer>
            <dig-pdf-viewer *ngSwitchCase="TYPE.PDF" [pdfUrl]="payload.file.url"></dig-pdf-viewer>
            <dig-video-viewer *ngSwitchCase="TYPE.VIDEO" [base64video]="payload.file.body"></dig-video-viewer>
            <dig-other-viewer *ngSwitchDefault [file]="payload.file"></dig-other-viewer>
        </ng-container>
    </div>

    <ng-template #invalid>
        <div class="error-box">
            <h3>{{payload.message}}</h3>
        </div>
    </ng-template>
</ng-container>
    